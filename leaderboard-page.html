<html>

<head>
    <title>IIThub Problems</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
    <style>
        
    </style>
</head>

<body>
    <div class="flex-container">
        <div class="main-content">
            <div class="header">
                <div class="left">
                    <div class="logo">
                        <i class="fas fa-code"></i> IIThub
                    </div>
                    <a href="index.html">Explore</a>
                    <a href="leaderboard-page.html">leaderboard</a>
                    <a href="#">Contest</a>
                    <a href="#">Discuss</a>
                    <a href="#">Interview</a>
                    <a href="#">Store</a>
                </div>
                <div class="right">
                    <a href="#">Register</a>
                    <a href="#">Sign in</a>
                </div>
            </div>
            <div class="flex-container">
                <div class="main-content">

                    <div class="tabs">
                        <div class="tab active" data-tab="student">Student Rankings</div>
                        <div class="tab" data-tab="class">Class Rankings</div>
                    </div>

                    <div id="student-rankings" class="tab-content active">
                        <div class="stats-cards">
                            <div class="stats-card">
                                <div class="stats-card-value">2,567</div>
                                <div class="stats-card-label">Total Students</div>
                            </div>
                            <div class="stats-card">
                                <div class="stats-card-value">85.7%</div>
                                <div class="stats-card-label">Average Performance</div>
                            </div>
                            <div class="stats-card">
                                <div class="stats-card-value">156</div>
                                <div class="stats-card-label">Active Today</div>
                            </div>
                        </div>
                        <div id="student-rankings-container"></div>
                    </div>

                    <div id="class-rankings" class="tab-content">
                        <div class="stats-cards">
                            <div class="stats-card">
                                <div class="stats-card-value">42</div>
                                <div class="stats-card-label">Total Classes</div>
                            </div>
                            <div class="stats-card">
                                <div class="stats-card-value">89.2%</div>
                                <div class="stats-card-label">Average Class Score</div>
                            </div>
                            <div class="stats-card">
                                <div class="stats-card-value">12</div>
                                <div class="stats-card-label">Departments</div>
                            </div>
                        </div>
                        <div id="class-rankings-container"></div>
                    </div>
                </div>
                <div class="sidebar">
                    <div class="calendar">
                        <div class="month">
                            <button onclick="changeMonth(-1)">&lt;</button>
                            <span id="current-month">January 2024</span>
                            <button onclick="changeMonth(1)">&gt;</button>
                        </div>
                        <div class="days" id="calendar-days">
                        </div>
                    </div>
                    <div id="daily-problem">
                        <h3>Daily Problem</h3>
                        <p id="daily-problem-content"></p>
                    </div>
                    <div class="tags">
                        <button>All Topics</button>
                        <button>Algorithms</button>
                        <button>Database</button>
                        <button>Shell</button>
                        <button>Concurrency</button>
                        <button>JavaScript</button>
                    </div>
                    <div class="profile">
                        <div class="profile-header">
                            <img src="img/Dylan.jpg" alt="Profile Avatar" class="profile-avatar" width="60"
                                height="60" />
                            <div class="profile-info">
                                <h3>Geng Yue</h3>
                                <p>Information Technology</p>
                                <p>Year 1 | Student ID: 2403880d</p>
                                <p>Email: 2403880d@studnet.tp.edu.sg</p>
                            </div>
                        </div>
                        <div class="profile-stats">
                            <p><strong>Challenges Attempted:</strong> 150</p>
                            <p><strong>Average Rank:</strong> 8.5</p>
                            <p><strong>Top 4 Finishes:</strong> 45%</p>
                            <p><strong>Completion Rate:</strong> 75%</p>
                            <p><strong>Average Difficulty Level:</strong> 9.2</p>
                            <p><strong>Average Score:</strong> 850</p>
                            <p><strong>Average Problem Complexity:</strong> 3.5</p>
                            <p><strong>Average Code Length:</strong> 120.5 lines</p>
                        </div>
                    </div>
                    <div id="profile-chart">
                        <canvas id="profilePieChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="footer">
                <a href="#">Copyright Â© 2024 IIThub</a>
                <a href="#">Help Center</a>
                <a href="#">Jobs</a>
                <a href="#">Bug Bounty</a>
                <a href="#">Assessment</a>
                <a href="#">Students</a>
                <a href="#">Terms</a>
                <a href="#">Privacy Policy</a>
            </div>
            <script>
                // Student data with expanded list
                const studentsData = [
                    {
                        rank: 1,
                        name: "John Doe",
                        major: "Cybersecurity",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 90,
                            solved: { completed: 45, total: 50 },
                            difficulty: 4.5,
                            comparison: 15
                        }
                    },
                    {
                        rank: 2,
                        name: "Mystery Challenger",
                        major: "Artificial Intelligence",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 85,
                            solved: { completed: 42, total: 50 },
                            difficulty: 4.2,
                            comparison: 12
                        }
                    },
                    {
                        rank: 3,
                        name: "Mystery Challenger",
                        major: "Big Data",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 82,
                            solved: { completed: 40, total: 50 },
                            difficulty: 4.0,
                            comparison: 10
                        }
                    },
                    {
                        rank: 4,
                        name: "Emma Wilson",
                        major: "Data Science",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 78,
                            solved: { completed: 38, total: 50 },
                            difficulty: 3.8,
                            comparison: 8
                        }
                    },
                    {
                        rank: 5,
                        name: "Michael Brown",
                        major: "Software Engineering",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 75,
                            solved: { completed: 35, total: 50 },
                            difficulty: 3.5,
                            comparison: 5
                        }
                    },
                    {
                        rank: 6,
                        name: "Mystery Challenger",
                        major: "Cloud Computing",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 73,
                            solved: { completed: 33, total: 50 },
                            difficulty: 3.3,
                            comparison: 4
                        }
                    },
                    {
                        rank: 7,
                        name: "David Wang",
                        major: "Network Security",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 71,
                            solved: { completed: 31, total: 50 },
                            difficulty: 3.1,
                            comparison: 3
                        }
                    },
                    {
                        rank: 8,
                        name: "Lisa Zhang",
                        major: "Machine Learning",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 69,
                            solved: { completed: 29, total: 50 },
                            difficulty: 2.9,
                            comparison: 2
                        }
                    },
                    {
                        rank: 9,
                        name: "Tom Anderson",
                        major: "Database Systems",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 67,
                            solved: { completed: 27, total: 50 },
                            difficulty: 2.7,
                            comparison: 1
                        }
                    },
                    {
                        rank: 10,
                        name: "Maria Garcia",
                        major: "Web Development",
                        avatar: "/api/placeholder/50/50",
                        stats: {
                            accuracy: 65,
                            solved: { completed: 25, total: 50 },
                            difficulty: 2.5,
                            comparison: 1
                        }
                    }
                ];
                // Class data
                const classData = [
                    {
                        rank: 1,
                        name: "Advanced Algorithms",
                        code: "CS401",
                        department: "Information Technology",
                        instructor: "Ms Nur Amira Natasha",
                        students: 23,
                        totalScore:2127,
                        averageScore: 92.5,
                        yearRanking: 1,
                        topStudents: [
                            { name: "Aaron", score: 98.2 },
                            { name: "Geng Yue", score: 97.5 }
                        ],
                        trend: "up"
                    },
                    {
                        rank: 2,
                        name: "Computational Thinking",
                        code: "AI301",
                        department: "IIT core module",
                        instructor: "Mr Allen Tan",
                        students: 25,
                        totalScore: 2243,
                        averageScore: 89.7,
                        yearRanking: 2,
                        topStudents: [
                            { name: "Alex Chen", score: 96.8 },
                            { name: "Emma Wilson", score: 95.4 }
                        ],
                        trend: "same"
                    },
                    {
                        rank: 3,
                        name: "Data Structures",
                        code: "CS201",
                        department: "Computer Science",
                        instructor: "Dr. Michael Wang",
                        students: 22,
                        totalScore: 1921,
                        averageScore: 87.3,
                        yearRanking: 3,
                        topStudents: [
                            { name: "Michael Brown", score: 95.6 },
                            { name: "Sarah Lee", score: 94.8 }
                        ],
                        trend: "down"
                    },
                    {
                        rank: 4,
                        name: "Cloud Computing",
                        code: "CC401",
                        department: "Information Technology",
                        instructor: "Dr. Emily Brown",
                        students: 25,
                        totalScore: 2162,
                        averageScore: 86.5,
                        yearRanking: 1,
                        topStudents: [
                            { name: "David Wang", score: 94.3 },
                            { name: "Lisa Zhang", score: 93.7 }
                        ],
                        trend: "up"
                    },
                    {
                        rank: 5,
                        name: "Database Systems",
                        code: "DB301",
                        department: "Computer Science",
                        instructor: "Prof. James Wilson",
                        students: 20,
                        totalScore: 1716,
                        averageScore: 85.8,
                        yearRanking: 2,
                        topStudents: [
                            { name: "Tom Anderson", score: 93.9 },
                            { name: "Maria Garcia", score: 93.2 }
                        ],
                        trend: "same"
                    },
                    {
                        rank: 6,
                        name: "Network Security",
                        code: "NS401",
                        department: "Cybersecurity",
                        instructor: "Dr. Linda Martinez",
                        students: 22,
                        totalScore: 1861,
                        averageScore: 84.6,
                        yearRanking: 1,
                        topStudents: [
                            { name: "John Doe", score: 92.8 },
                            { name: "Alex Chen", score: 92.1 }
                        ],
                        trend: "up"
                    },
                    {
                        rank: 7,
                        name: "Web Development",
                        code: "WD201",
                        department: "Information Technology",
                        instructor: "Prof. Kevin Zhang",
                        students: 28,
                        totalScore: 2349,
                        averageScore: 83.9,
                        yearRanking: 3,
                        topStudents: [
                            { name: "Emma Wilson", score: 91.5 },
                            { name: "Sarah Lee", score: 90.8 }
                        ],
                        trend: "down"
                    },
                    {
                        rank: 8,
                        name: "Software Engineering",
                        code: "SE301",
                        department: "Computer Science",
                        instructor: "Dr. Thomas Brown",
                        students: 24,
                        totalScore: 1985,
                        averageScore: 82.7,
                        yearRanking: 2,
                        topStudents: [
                            { name: "Michael Brown", score: 90.4 },
                            { name: "Lisa Zhang", score: 89.9 }
                        ],
                        trend: "same"
                    },
                    {
                        rank: 9,
                        name: "Artificial Intelligence",
                        code: "AI401",
                        department: "Artificial Intelligence",
                        instructor: "Prof. Sarah Chen",
                        students: 26,
                        totalScore: 2119,
                        averageScore: 81.5,
                        yearRanking: 1,
                        topStudents: [
                            { name: "Jane Smith", score: 89.7 },
                            { name: "David Wang", score: 89.2 }
                        ],
                        trend: "up"
                    },
                    {
                        rank: 10,
                        name: "Mobile Development",
                        code: "MD301",
                        department: "Information Technology",
                        instructor: "Dr. Robert Wilson",
                        students: 28,
                        totalScore: 2262,
                        averageScore: 80.8,
                        yearRanking: 3,
                        topStudents: [
                            { name: "Tom Anderson", score: 88.5 },
                            { name: "Maria Garcia", score: 88.1 }
                        ],
                        trend: "down"
                    }
                ];

                function generateAvatar(name, isSmall = false) {
                    const initial = name.charAt(0);
                    const colorIndex = Math.floor(Math.random() * 5) + 1;
                    return `<div class="avatar-circle ${isSmall ? 'small-avatar' : ''} bg-color-${colorIndex}">${initial}</div>`;
                }

                function renderStudentRow(student) {
                    const solvedPercentage = (student.stats.solved.completed / student.stats.solved.total) * 100;
                    const difficultyPercentage = (student.stats.difficulty / 5) * 100;

                    return `
                <div class="student-row">
                    <div class="rank-badge rank-${student.rank <= 3 ? student.rank : 'other'}">${student.rank}</div>
                    <div class="student-info">
                        ${generateAvatar(student.name)}
                        <div>
                            <h3>${student.name}</h3>
                            <div>${student.major}</div>
                        </div>
                    </div>
                    <div class="pie-charts-container">
                        <div class="pie-chart" style="background: conic-gradient(#ff9800 ${student.stats.accuracy}%, #f0f0f0 0)">
                            <div class="chart-label">
                                <div>${student.stats.accuracy}%</div>
                                <div class="small">Accuracy</div>
                            </div>
                            <div class="chart-tooltip">Accuracy: ${student.stats.accuracy}%</div>
                        </div>
                        <div class="pie-chart" style="background: conic-gradient(#4caf50 ${solvedPercentage}%, #f0f0f0 0)">
                            <div class="chart-label">
                                <div>${student.stats.solved.completed}/${student.stats.solved.total}</div>
                                <div class="small">Solved</div>
                            </div>
                            <div class="chart-tooltip">Problems Solved: ${student.stats.solved.completed}/${student.stats.solved.total}</div>
                        </div>
                        <div class="pie-chart" style="background: conic-gradient(#2196f3 ${difficultyPercentage}%, #f0f0f0 0)">
                            <div class="chart-label">
                                <div>${student.stats.difficulty}</div>
                                <div class="small">Difficulty</div>
                            </div>
                            <div class="chart-tooltip">Average Difficulty: ${student.stats.difficulty}/5</div>
                        </div>
                    </div>
                    <div class="comparison-stats">
                        <div>vs Class Average</div>
                        <div style="color: #4caf50; font-weight: bold">+${student.stats.comparison}%</div>
                    </div>
                </div>
            `;
                }

                //class rankings
                function renderClassRow(classInfo) {
                    const topStudentsHtml = classInfo.topStudents.map(student => `
                        <div class="top-student">
                            ${generateAvatar(student.name, true)}
                            <span>${student.name} (${student.score}%)</span>
                        </div>
                    `).join('');

                    return `
                <div class="class-row">
                    <div class="rank-badge rank-${classInfo.rank <= 3 ? classInfo.rank : 'other'}">${classInfo.rank}</div>
                    <div class="class-info">
                        <div class="class-name">${classInfo.name} (${classInfo.code})</div>
                        <div class="class-details">
                            ${classInfo.department} | ${classInfo.instructor} | ${classInfo.students} Students
                        </div>
                        <div class="top-students">
                            ${topStudentsHtml}
                        </div>
                    </div>
                    <div class="class-stats">
                        <div class="stats-value">${classInfo.totalScore}</div>
                        <div class="stats-label">Total Score</div>
                    </div>
                    <div class="class-stats">
                        <div class="stats-value">${classInfo.averageScore}</div>
                        <div class="stats-label">Average Score</div>
                    </div>
                    <div class="class-stats">
                        <div class="rank-indicator rank-${classInfo.trend}">
                            ${classInfo.yearRanking} Year Rank
                        </div>
                    </div>
                </div>
            `;
                }

                function renderRankings() {
                    const studentContainer = document.getElementById('student-rankings-container');
                    const classContainer = document.getElementById('class-rankings-container');

                    studentContainer.innerHTML = studentsData.map(renderStudentRow).join('');
                    classContainer.innerHTML = classData.map(renderClassRow).join('');
                }

                // Calendar functions
                function updateCalendarHeader() {
                    document.getElementById('current-month').textContent =
                        new Date().toLocaleString('en-US', { month: 'long', year: 'numeric' });
                }

                function renderCalendar() {
                    const daysContainer = document.getElementById('calendar-days');
                    const date = new Date();
                    const daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();

                    let daysHTML = '';
                    for (let i = 1; i <= daysInMonth; i++) {
                        daysHTML += `
                    <div class="calendar-day ${i === date.getDate() ? 'active' : ''}">${i}</div>
                `;
                    }
                    daysContainer.innerHTML = daysHTML;
                }

                // Event Listeners
                document.addEventListener('DOMContentLoaded', () => {
                    renderRankings();

                    updateCalendarHeader();
                    renderCalendar();

                    // Tab switching
                    document.querySelectorAll('.tab').forEach(tab => {
                        tab.addEventListener('click', (e) => {
                            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                            e.target.classList.add('active');
                            document.getElementById(`${e.target.dataset.tab}-rankings`).classList.add('active');
                        });
                    });

                    // Search functionality
                    document.querySelector('.search-box input').addEventListener('input', (e) => {
                        const searchTerm = e.target.value.toLowerCase();
                        const activeTab = document.querySelector('.tab.active').dataset.tab;

                        if (activeTab === 'student') {
                            const filteredStudents = studentsData.filter(student =>
                                student.name.toLowerCase().includes(searchTerm) ||
                                student.major.toLowerCase().includes(searchTerm)
                            );
                            document.getElementById('student-rankings-container').innerHTML =
                                filteredStudents.map(renderStudentRow).join('');
                        } else {
                            const filteredClasses = classData.filter(classInfo =>
                                classInfo.name.toLowerCase().includes(searchTerm) ||
                                classInfo.department.toLowerCase().includes(searchTerm) ||
                                classInfo.instructor.toLowerCase().includes(searchTerm)
                            );
                            document.getElementById('class-rankings-container').innerHTML =
                                filteredClasses.map(renderClassRow).join('');
                        }
                    });

                    // Department filter
                    document.querySelectorAll('.filter-dropdown').forEach(dropdown => {
                        dropdown.addEventListener('change', () => {
                        });
                    });
                });
            </script>
</body>

</html>
